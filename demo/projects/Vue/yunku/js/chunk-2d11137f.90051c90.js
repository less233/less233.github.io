(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d11137f"],{1148:function(t,i,e){"use strict";var n=e("a691"),r=e("1d80");t.exports="".repeat||function(t){var i=String(r(this)),e="",a=n(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(i+=i))1&a&&(e+=i);return e}},1276:function(t,i,e){"use strict";var n=e("d784"),r=e("44e7"),a=e("825a"),o=e("1d80"),s=e("4840"),c=e("8aa5"),u=e("50c4"),l=e("14c3"),d=e("9263"),f=e("d039"),h=[].push,p=Math.min,v=4294967295,g=!f((function(){return!RegExp(v,"y")}));n("split",2,(function(t,i,e){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var n=String(o(this)),a=void 0===e?v:e>>>0;if(0===a)return[];if(void 0===t)return[n];if(!r(t))return i.call(n,t,a);var s,c,u,l=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,g=new RegExp(t.source,f+"g");while(s=d.call(g,n)){if(c=g.lastIndex,c>p&&(l.push(n.slice(p,s.index)),s.length>1&&s.index<n.length&&h.apply(l,s.slice(1)),u=s[0].length,p=c,l.length>=a))break;g.lastIndex===s.index&&g.lastIndex++}return p===n.length?!u&&g.test("")||l.push(""):l.push(n.slice(p)),l.length>a?l.slice(0,a):l}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)}:i,[function(i,e){var r=o(this),a=void 0==i?void 0:i[t];return void 0!==a?a.call(i,r,e):n.call(String(r),i,e)},function(t,r){var o=e(n,t,this,r,n!==i);if(o.done)return o.value;var d=a(t),f=String(this),h=s(d,RegExp),m=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),k=new h(g?d:"^(?:"+d.source+")",b),y=void 0===r?v:r>>>0;if(0===y)return[];if(0===f.length)return null===l(k,f)?[f]:[];var x=0,C=0,w=[];while(C<f.length){k.lastIndex=g?C:0;var S,_=l(k,g?f:f.slice(C));if(null===_||(S=p(u(k.lastIndex+(g?0:C)),f.length))===x)C=c(f,C,m);else{if(w.push(f.slice(x,C)),w.length===y)return w;for(var $=1;$<=_.length-1;$++)if(w.push(_[$]),w.length===y)return w;C=x=S}}return w.push(f.slice(x)),w}]}),!g)},"2f14":function(t,i,e){"use strict";e.d(i,"a",(function(){return o}));e("99af"),e("fb6a");var n=e("d4ec"),r=e("bee2"),a=function(){function t(){Object(n["a"])(this,t)}return Object(r["a"])(t,[{key:"queryString",value:function(t){var i="";for(var e in t)i+="".concat(e,"=").concat(t[e],"&");return i.slice(0,-1)}}]),t}(),o=new a},"408a":function(t,i,e){var n=e("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},"466d":function(t,i,e){"use strict";var n=e("d784"),r=e("825a"),a=e("50c4"),o=e("1d80"),s=e("8aa5"),c=e("14c3");n("match",1,(function(t,i,e){return[function(i){var e=o(this),n=void 0==i?void 0:i[t];return void 0!==n?n.call(i,e):new RegExp(i)[t](String(e))},function(t){var n=e(i,t,this);if(n.done)return n.value;var o=r(t),u=String(this);if(!o.global)return c(o,u);var l=o.unicode;o.lastIndex=0;var d,f=[],h=0;while(null!==(d=c(o,u))){var p=String(d[0]);f[h]=p,""===p&&(o.lastIndex=s(u,a(o.lastIndex),l)),h++}return 0===h?null:f}]}))},8418:function(t,i,e){"use strict";var n=e("c04e"),r=e("9bf2"),a=e("5c6c");t.exports=function(t,i,e){var o=n(i);o in t?r.f(t,o,a(0,e)):t[o]=e}},"99af":function(t,i,e){"use strict";var n=e("23e7"),r=e("d039"),a=e("e8b5"),o=e("861d"),s=e("7b0b"),c=e("50c4"),u=e("8418"),l=e("65f0"),d=e("1dde"),f=e("b622"),h=e("2d00"),p=f("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",m=h>=51||!r((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),b=d("concat"),k=function(t){if(!o(t))return!1;var i=t[p];return void 0!==i?!!i:a(t)},y=!m||!b;n({target:"Array",proto:!0,forced:y},{concat:function(t){var i,e,n,r,a,o=s(this),d=l(o,0),f=0;for(i=-1,n=arguments.length;i<n;i++)if(a=-1===i?o:arguments[i],k(a)){if(r=c(a.length),f+r>v)throw TypeError(g);for(e=0;e<r;e++,f++)e in a&&u(d,f,a[e])}else{if(f>=v)throw TypeError(g);u(d,f++,a)}return d.length=f,d}})},a15b:function(t,i,e){"use strict";var n=e("23e7"),r=e("44ad"),a=e("fc6a"),o=e("a640"),s=[].join,c=r!=Object,u=o("join",",");n({target:"Array",proto:!0,forced:c||!u},{join:function(t){return s.call(a(this),void 0===t?",":t)}})},a640:function(t,i,e){"use strict";var n=e("d039");t.exports=function(t,i){var e=[][t];return!!e&&n((function(){e.call(null,i||function(){throw 1},1)}))}},b680:function(t,i,e){"use strict";var n=e("23e7"),r=e("a691"),a=e("408a"),o=e("1148"),s=e("d039"),c=1..toFixed,u=Math.floor,l=function(t,i,e){return 0===i?e:i%2===1?l(t,i-1,e*t):l(t*t,i/2,e)},d=function(t){var i=0,e=t;while(e>=4096)i+=12,e/=4096;while(e>=2)i+=1,e/=2;return i},f=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){c.call({})}));n({target:"Number",proto:!0,forced:f},{toFixed:function(t){var i,e,n,s,c=a(this),f=r(t),h=[0,0,0,0,0,0],p="",v="0",g=function(t,i){var e=-1,n=i;while(++e<6)n+=t*h[e],h[e]=n%1e7,n=u(n/1e7)},m=function(t){var i=6,e=0;while(--i>=0)e+=h[i],h[i]=u(e/t),e=e%t*1e7},b=function(){var t=6,i="";while(--t>=0)if(""!==i||0===t||0!==h[t]){var e=String(h[t]);i=""===i?e:i+o.call("0",7-e.length)+e}return i};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(p="-",c=-c),c>1e-21)if(i=d(c*l(2,69,1))-69,e=i<0?c*l(2,-i,1):c/l(2,i,1),e*=4503599627370496,i=52-i,i>0){g(0,e),n=f;while(n>=7)g(1e7,0),n-=7;g(l(10,n,1),0),n=i-1;while(n>=23)m(1<<23),n-=23;m(1<<n),g(1,1),m(2),v=b()}else g(0,e),g(1<<-i,0),v=b()+o.call("0",f);return f>0?(s=v.length,v=p+(s<=f?"0."+o.call("0",f-s)+v:v.slice(0,s-f)+"."+v.slice(s-f))):v=p+v,v}})},bee2:function(t,i,e){"use strict";function n(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,i,e){return i&&n(t.prototype,i),e&&n(t,e),t}e.d(i,"a",(function(){return r}))},c84b:function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"detail"},[e("div",{staticClass:"detail-img"},[e("div",{staticClass:"pro-img"},[e("img",{attrs:{src:t.product.large_img,alt:""}})]),e("div",{staticClass:"pro-name"},[e("div",{staticClass:"ch"},[t._v(t._s(t.product.name))]),e("div",{staticClass:"en"},[t._v(t._s(t.product.enname))])]),e("div",{staticClass:"pro-like",on:{click:t.likeOrNot}},[e("van-icon",{style:{color:t.isLike?"#ff770f":"#f0f0f0"},attrs:{name:"like"}}),t._v("喜欢 ")],1)]),e("div",{staticClass:"pro-info"},[e("van-icon",{staticClass:"close",attrs:{name:"cross"},on:{click:t.goBack}}),e("div",{staticClass:"pro-rules"},t._l(t.product.rules,(function(i,n){return e("div",{key:n,staticClass:"rule"},[e("div",{staticClass:"rule-title"},[t._v(t._s(i.title))]),e("div",{staticClass:"rule-items"},t._l(i.rules,(function(i,r){return e("div",{key:r,staticClass:"item",class:{active:i.isActive},on:{click:function(e){return t.toggleRule(i,n)}}},[t._v(t._s(i.title))])})),0)])})),0),e("div",{staticClass:"pro-desc"},[e("div",{staticClass:"desc-title"},[t._v("商品介绍")]),t._l(t.product.desc,(function(i,n){return e("div",{key:n,staticClass:"desc-item"},[t._v(t._s(i))])}))],2)],1),e("div",{staticClass:"addToShopbag"},[e("div",{staticClass:"count"},[e("span",{staticClass:"sub",on:{click:t.sub}},[t._v("-")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"count"}],staticClass:"inp",attrs:{type:"text",maxlength:"2"},domProps:{value:t.count},on:{input:[function(i){i.target.composing||(t.count=i.target.value)},t.inp]}}),e("span",{staticClass:"add",on:{click:t.add}},[t._v("+")])]),e("div",{staticClass:"addto",on:{click:t.addToCart}},[t._v("加入购物车 ￥"+t._s(t.sum))])])])},r=[],a=(e("a15b"),e("d81d"),e("b680"),e("ac1f"),e("466d"),e("1276"),e("eadb"),e("2f14")),o={data:function(){return{product:{},pid:"",count:1,isLike:!1}},computed:{sum:function(){return(this.product.price*this.count).toFixed(2)}},methods:{goBack:function(){this.$router.go(-1)},goCart:function(){this.$router.push({name:"Cart"})},getProductByPid:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/productDetail",params:{appkey:this.appkey,pid:this.pid}}).then((function(i){if(t.$toast.clear(),600==i.data.code){i.data.result[0].desc=i.data.result[0].desc.split(/\n/);var e=["tem","sugar","cream","milk"],n=[];e.map((function(t){if(""!=i.data.result[0][t]){var e={title:i.data.result[0][t+"_desc"],rules:[]},r=i.data.result[0][t].split("/");r.map((function(t,i){var n={title:t,isActive:0==i};e.rules.push(n)})),n.push(e)}})),i.data.result[0].rules=n,t.product=i.data.result[0]}})).catch((function(i){t.$toast.clear()}))},toggleRule:function(t,i){if(!t.isActive){for(var e=this.product.rules[i].rules,n=0;n<e.length;n++)if(e[n].isActive){e[n].isActive=!1;break}t.isActive=!0}},findLike:function(){var t=this,i=localStorage.getItem("owner");i&&(this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/findlike",params:{appkey:this.appkey,pid:this.pid,tokenString:i}}).then((function(i){t.$toast.clear(),1e3==i.data.code&&1==i.data.result.length&&(t.isLike=!0)})).catch((function(i){t.$toast.clear()})))},likeOrNot:function(){var t=this,i=localStorage.getItem("owner");if(!i)return this.$router.push({name:"Login"});var e=a["a"].queryString({appkey:this.appkey,pid:this.pid,tokenString:i}),n=this.isLike?"/notlike":"/like";this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"POST",url:n,data:e}).then((function(i){if(t.$toast.clear(),700==i.data.code)return t.$router.push({name:"Login"});t.$toast(i.data.msg),800==i.data.code?t.isLike=!0:900==i.data.code&&(t.isLike=!1)})).catch((function(i){t.$toast.clear()}))},addToCart:function(){var t=this;if("0"==this.count)return this.$toast("请添加数量");var i=localStorage.getItem("owner");if(!i)return this.$router.push({name:"Login"});var e=this.product.rules,n=[];e.map((function(t){for(var i=0;i<t.rules.length;i++)if(t.rules[i].isActive){n.push(t.rules[i].title);break}}));var r=a["a"].queryString({appkey:this.appkey,count:this.count,pid:this.pid,rule:n.join("/"),tokenString:i});this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"POST",url:"/addShopcart",data:r}).then((function(i){t.$toast.clear(),3e3==i.data.code&&t.$toast(i.data.msg)})).catch((function(i){t.$toast.clear()}))},sub:function(){if(this.count<=1)return this.count=1;this.count--},inp:function(){this.count=this.count.match(/\d+/),this.count=Math.abs(this.count)},add:function(){this.count>=99||this.count++}},created:function(){this.pid=this.$route.query.pid,this.getProductByPid(),this.findLike()}},s=o,c=e("2877"),u=Object(c["a"])(s,n,r,!1,null,null,null);i["default"]=u.exports},d4ec:function(t,i,e){"use strict";function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}e.d(i,"a",(function(){return n}))},d81d:function(t,i,e){"use strict";var n=e("23e7"),r=e("b727").map,a=e("1dde"),o=e("ae40"),s=a("map"),c=o("map");n({target:"Array",proto:!0,forced:!s||!c},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},eadb:function(t,i,e){},fb6a:function(t,i,e){"use strict";var n=e("23e7"),r=e("861d"),a=e("e8b5"),o=e("23cb"),s=e("50c4"),c=e("fc6a"),u=e("8418"),l=e("b622"),d=e("1dde"),f=e("ae40"),h=d("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),v=l("species"),g=[].slice,m=Math.max;n({target:"Array",proto:!0,forced:!h||!p},{slice:function(t,i){var e,n,l,d=c(this),f=s(d.length),h=o(t,f),p=o(void 0===i?f:i,f);if(a(d)&&(e=d.constructor,"function"!=typeof e||e!==Array&&!a(e.prototype)?r(e)&&(e=e[v],null===e&&(e=void 0)):e=void 0,e===Array||void 0===e))return g.call(d,h,p);for(n=new(void 0===e?Array:e)(m(p-h,0)),l=0;h<p;h++,l++)h in d&&u(n,l,d[h]);return n.length=l,n}})}}]);
//# sourceMappingURL=chunk-2d11137f.90051c90.js.map