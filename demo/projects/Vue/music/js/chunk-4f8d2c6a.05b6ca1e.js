(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f8d2c6a"],{1088:function(t,a,i){},"2bf6":function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"song-list"},[i("navComponent",{attrs:{title:"歌单广场"}}),i("div",{staticClass:"list-contain"},[i("div",{staticClass:"list-content"},t._l(t.recommendList,(function(a,s){return i("div",{key:s,staticClass:"box fl",on:{click:function(i){return t.goList(a)}}},[i("div",{staticClass:"img-box"},[i("img",{staticClass:"auto-img",attrs:{src:a.picUrl,alt:""}})]),i("div",{staticClass:"title-box van-multi-ellipsis--l2"},[t._v(t._s(a.name))])])})),0)]),i("aimpComponent")],1)},n=[],e=i("5530"),c=(i("1088"),i("f874")),o=i("b6dd"),l=i("2f62"),r=Object(l["a"])("primaryModule"),u=r.mapState,d=(r.mapMutations,{components:{navComponent:c["a"],aimpComponent:o["a"]},computed:Object(e["a"])({},u(["userInfo"])),data:function(){return{recommendList:[]}},methods:{getRecommendList:function(){var t=this;this.$toast.loading({duration:0}),this.axios({method:"GET",url:"/personalized",params:{limit:30,cookie:localStorage.getItem("cookie")}}).then((function(a){t.$toast.clear(),200==a.data.code&&(t.recommendList=a.data.result)})).catch((function(a){t.$toast.clear()}))},goList:function(t){this.$router.push({name:"List",query:{url:"/playlist/detail",id:t.id,name:"歌单"}})}},created:function(){this.getRecommendList()}}),m=d,f=i("2877"),p=Object(f["a"])(m,s,n,!1,null,null,null);a["default"]=p.exports},"58ec":function(t,a,i){"use strict";var s=i("d938"),n=i.n(s);n.a},"6fb6":function(t,a,i){},7267:function(t,a,i){"use strict";var s=i("6fb6"),n=i.n(s);n.a},b6dd:function(t,a,i){"use strict";var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{attrs:{id:"myc-aimp"}},[i("div",{staticClass:"left",on:{click:t.toPlayer}},[i("div",{staticClass:"disc"},[i("img",{attrs:{src:t.musicInfo.picUrl,alt:""}})]),i("div",{staticClass:"easy-info"},[i("div",{staticClass:"song"},[t._v(t._s(t.musicInfo.songName))]),i("div",{staticClass:"singer"},[t._v(t._s(t.musicInfo.singerName))])])]),i("div",{staticClass:"right"},[i("div",{staticClass:"play",on:{click:t.changePlayState}},[i("van-icon",{attrs:{name:this.playerInfo.autoplay?"pause-circle-o":"play-circle-o"}})],1),i("div",{staticClass:"love",on:{click:t.changeLove}},[i("van-icon",{attrs:{name:"bars"}})],1)]),i("van-popup",{attrs:{position:"bottom"},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}},[i("div",{staticClass:"title-text"},[t._v("当前播放")]),i("div",{staticClass:"controls-box"},[i("div",{staticClass:"left"},[i("span",{staticClass:"iconfont"},[t._v("")]),i("div",{staticClass:"text"},[t._v("随机播放")])]),i("van-icon",{attrs:{name:"delete"},on:{click:t.deleteList}})],1),i("div",{staticClass:"list-box"},t._l(t.playList,(function(a,s){return i("div",{key:s,staticClass:"song"},[i("div",{staticClass:"van-ellispsis",class:a.isActive?"active":null,on:{click:function(i){return t.playSong(a)}}},[a.isActive?i("van-icon",{class:t.playerInfo.autoplay?"animat":"paused",attrs:{name:"music-o"}}):t._e(),t._v(" "+t._s(a.name)+" "),i("div",{staticClass:"singer"},[t._v("- "+t._s(""==a.ar[0].name?"佚名":a.ar[0].name))])],1),i("van-icon",{attrs:{name:"cross"},on:{click:function(a){return t.deleteOne(s)}}})],1)})),0)])],1)},n=[],e=(i("d81d"),i("fb6a"),i("a434"),i("b0c0"),i("96cf"),i("1da1")),c=i("5530"),o=i("2f62"),l=Object(o["a"])("primaryModule"),r=l.mapState,u=l.mapMutations,d={name:"aimpComponent",computed:Object(c["a"])({},r(["musicInfo","playerInfo","musicList","musicInfFunc","historyList"])),data:function(){return{show:!1,playList:[]}},methods:Object(c["a"])(Object(c["a"])({},u(["changePlayerInfo","addMusicList","changeMusicInfo","changeHistoryList"])),{},{toPlayer:function(){this.$router.push({name:"Player"})},changePlayState:function(){this.changePlayerInfo({autoplay:!this.playerInfo.autoplay}),this.playerInfo.autoplay?this.playerInfo.audio.play():this.playerInfo.audio.pause()},changeLove:function(){this.show=!0,this.getPlayList()},getPlayList:function(){var t=this;if(0!=this.musicList.length){this.$toast.loading({duration:0});var a="";this.musicList.map((function(t){a+=t+","})),a=a.slice(0,-1),this.axios({method:"GET",url:"/song/detail",params:{ids:a}}).then((function(a){t.$toast.clear(),200==a.data.code&&(t.playList=a.data.songs)})).catch((function(a){t.$toast.clear()}))}},deleteList:function(){this.addMusicList([]),this.playList=[]},deleteOne:function(t){this.playList.splice(t,1);var a=this.musicList;a.splice(t,1),this.addMusicList(a)},judgeNowPlay:function(){var t=this.musicInfo.ids;this.playList.map((function(a){1==a.isActive&&(a.isActive=!1),a.id!=t||(a.isActive=!0)}))},playSong:function(t){var a=this;return Object(e["a"])(regeneratorRuntime.mark((function i(){var s,n,e;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a.$toast.loading({duration:0}),s=a.historyList,s.unshift(t.id),a.changeHistoryList(s),n={},n.src=a.musicURL+t.id,n.autoplay=!0,i.next=9,a.changePlayerInfo(n);case 9:return e={},e.ids=t.id,""==t.ar[0].name?e.singerName="佚名":e.singerName=t.ar[0].name,i.next=14,a.changeMusicInfo(e);case 14:return i.next=16,a.musicInfFunc();case 16:a.$toast.clear(),a.playerInfo.audio.play(),setTimeout((function(){0==a.playerInfo.audio.readyState&&(a.playerInfo.audio.pause(),a.changePlayerInfo({autoplay:!1}))}),2e3);case 19:case"end":return i.stop()}}),i)})))()}})},m=d,f=(i("58ec"),i("2877")),p=Object(f["a"])(m,s,n,!1,null,"ab18c75a",null);a["a"]=p.exports},d938:function(t,a,i){},f874:function(t,a,i){"use strict";var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{style:{color:t.color},attrs:{id:"myc-nav"}},[i("div",{staticClass:"myc-left",on:{click:t.goBack}},[i("van-icon",{staticClass:"myc-icon",attrs:{name:"down"}})],1),i("div",{staticClass:"myc-title"},[t._v(t._s(t.title))]),t._t("title")],2)},n=[],e={name:"navComponent",props:{title:{type:String,default:""},color:{type:String,default:"black"}},methods:{goBack:function(){this.$router.go(-1)}},created:function(){}},c=e,o=(i("7267"),i("2877")),l=Object(o["a"])(c,s,n,!1,null,"e96c7d6c",null);a["a"]=l.exports}}]);
//# sourceMappingURL=chunk-4f8d2c6a.05b6ca1e.js.map