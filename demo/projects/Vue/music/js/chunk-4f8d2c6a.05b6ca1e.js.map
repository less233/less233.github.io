{"version":3,"sources":["webpack:///./src/views/sencondViews/Songlist.vue?8703","webpack:///src/views/sencondViews/Songlist.vue","webpack:///./src/views/sencondViews/Songlist.vue?4c2e","webpack:///./src/views/sencondViews/Songlist.vue","webpack:///./src/components/aimpComponent.vue?e59e","webpack:///./src/components/navComponent.vue?fd08","webpack:///./src/components/aimpComponent.vue?9187","webpack:///src/components/aimpComponent.vue","webpack:///./src/components/aimpComponent.vue?3f46","webpack:///./src/components/aimpComponent.vue","webpack:///./src/components/navComponent.vue?8cb8","webpack:///src/components/navComponent.vue","webpack:///./src/components/navComponent.vue?634d","webpack:///./src/components/navComponent.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_l","item","index","key","on","$event","goList","picUrl","_v","_s","name","staticRenderFns","components","navComponent","aimpComponent","computed","data","recommendList","methods","getRecommendList","$toast","loading","axios","method","url","params","limit","cookie","localStorage","getItem","$router","push","query","created","component","toPlayer","musicInfo","songName","singerName","changePlayState","playerInfo","autoplay","changeLove","model","value","callback","$$v","show","expression","deleteList","class","isActive","playSong","_e","ar","deleteOne","playList","changePlayerInfo","audio","play","pause","getPlayList","musicList","length","map","str","v","slice","ids","addMusicList","splice","list","judgeNowPlay","id","nowMusicId","style","color","goBack","title","_t","props","type","String","default","go"],"mappings":"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","file":"js/chunk-4f8d2c6a.05b6ca1e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"song-list\"},[_c('navComponent',{attrs:{\"title\":\"歌单广场\"}}),_c('div',{staticClass:\"list-contain\"},[_c('div',{staticClass:\"list-content\"},_vm._l((_vm.recommendList),function(item,index){return _c('div',{key:index,staticClass:\"box fl\",on:{\"click\":function($event){return _vm.goList(item)}}},[_c('div',{staticClass:\"img-box\"},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":item.picUrl,\"alt\":\"\"}})]),_c('div',{staticClass:\"title-box van-multi-ellipsis--l2\"},[_vm._v(_vm._s(item.name))])])}),0)]),_c('aimpComponent')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"song-list\">\r\n    <!-- nav导航栏 -->\r\n    <navComponent title=\"歌单广场\"></navComponent>\r\n\r\n    <!-- 主要内容 -->\r\n    <div class=\"list-contain\">\r\n      <!-- 歌单 -->\r\n      <div class=\"list-content\">\r\n        <div\r\n          class=\"box fl\"\r\n          v-for=\"(item,index) in recommendList\"\r\n          :key=\"index\"\r\n          @click=\"goList(item)\"\r\n        >\r\n          <div class=\"img-box\">\r\n            <img class=\"auto-img\" :src=\"item.picUrl\" alt />\r\n          </div>\r\n\r\n          <div class=\"title-box van-multi-ellipsis--l2\">{{item.name}}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 底部播放器 -->\r\n    <aimpComponent></aimpComponent>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport \"@/assets/less/secondLess/songlist.less\";\r\nimport navComponent from \"@/components/navComponent.vue\";\r\nimport aimpComponent from \"@/components/aimpComponent.vue\";\r\nimport { createNamespacedHelpers } from \"vuex\";\r\nconst { mapState, mapMutations } = createNamespacedHelpers(\"primaryModule\");\r\n\r\nexport default {\r\n  components: {\r\n    navComponent,\r\n    aimpComponent,\r\n  },\r\n\r\n  computed: {\r\n    ...mapState([\"userInfo\"]),\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      // 推荐歌单\r\n      recommendList: [],\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    //   获取推荐歌单\r\n    getRecommendList() {\r\n      this.$toast.loading({ duration: 0 });\r\n\r\n      this.axios({\r\n        method: \"GET\",\r\n        url: \"/personalized\",\r\n        params: {\r\n          limit: 30,\r\n          cookie: localStorage.getItem(\"cookie\"),\r\n        },\r\n      })\r\n        .then((result) => {\r\n          this.$toast.clear();\r\n          \r\n          if (result.data.code != 200) return;\r\n\r\n          this.recommendList = result.data.result;\r\n        })\r\n        .catch((err) => {\r\n          this.$toast.clear();\r\n        });\r\n    },\r\n\r\n    // 跳转到list\r\n    goList(item) {\r\n      this.$router.push({\r\n        name: \"List\",\r\n        query: { url: \"/playlist/detail\", id: item.id, name: \"歌单\" },\r\n      });\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.getRecommendList();\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Songlist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Songlist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Songlist.vue?vue&type=template&id=438514b8&\"\nimport script from \"./Songlist.vue?vue&type=script&lang=js&\"\nexport * from \"./Songlist.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./aimpComponent.vue?vue&type=style&index=0&id=ab18c75a&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./aimpComponent.vue?vue&type=style&index=0&id=ab18c75a&lang=less&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./navComponent.vue?vue&type=style&index=0&id=e96c7d6c&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./navComponent.vue?vue&type=style&index=0&id=e96c7d6c&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"myc-aimp\"}},[_c('div',{staticClass:\"left\",on:{\"click\":_vm.toPlayer}},[_c('div',{staticClass:\"disc\"},[_c('img',{attrs:{\"src\":_vm.musicInfo.picUrl,\"alt\":\"\"}})]),_c('div',{staticClass:\"easy-info\"},[_c('div',{staticClass:\"song\"},[_vm._v(_vm._s(_vm.musicInfo.songName))]),_c('div',{staticClass:\"singer\"},[_vm._v(_vm._s(_vm.musicInfo.singerName))])])]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"play\",on:{\"click\":_vm.changePlayState}},[_c('van-icon',{attrs:{\"name\":this.playerInfo.autoplay?'pause-circle-o':'play-circle-o'}})],1),_c('div',{staticClass:\"love\",on:{\"click\":_vm.changeLove}},[_c('van-icon',{attrs:{\"name\":\"bars\"}})],1)]),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('div',{staticClass:\"title-text\"},[_vm._v(\"当前播放\")]),_c('div',{staticClass:\"controls-box\"},[_c('div',{staticClass:\"left\"},[_c('span',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_c('div',{staticClass:\"text\"},[_vm._v(\"随机播放\")])]),_c('van-icon',{attrs:{\"name\":\"delete\"},on:{\"click\":_vm.deleteList}})],1),_c('div',{staticClass:\"list-box\"},_vm._l((_vm.playList),function(item,index){return _c('div',{key:index,staticClass:\"song\"},[_c('div',{staticClass:\"van-ellispsis\",class:item.isActive?'active':null,on:{\"click\":function($event){return _vm.playSong(item)}}},[(item.isActive)?_c('van-icon',{class:_vm.playerInfo.autoplay?'animat':'paused',attrs:{\"name\":\"music-o\"}}):_vm._e(),_vm._v(\" \"+_vm._s(item.name)+\" \"),_c('div',{staticClass:\"singer\"},[_vm._v(\"- \"+_vm._s(item.ar[0].name==\"\"?\"佚名\":item.ar[0].name))])],1),_c('van-icon',{attrs:{\"name\":\"cross\"},on:{\"click\":function($event){return _vm.deleteOne(index)}}})],1)}),0)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"myc-aimp\">\r\n    <div class=\"left\" @click=\"toPlayer\">\r\n      <div class=\"disc\">\r\n        <img :src=\"musicInfo.picUrl\" alt />\r\n      </div>\r\n      <div class=\"easy-info\">\r\n        <div class=\"song\">{{musicInfo.songName}}</div>\r\n        <div class=\"singer\">{{musicInfo.singerName}}</div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"right\">\r\n      <div class=\"play\" @click=\"changePlayState\">\r\n        <van-icon :name=\"this.playerInfo.autoplay?'pause-circle-o':'play-circle-o'\" />\r\n      </div>\r\n      <div class=\"love\" @click=\"changeLove\">\r\n        <van-icon name=\"bars\" />\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 弹出层 -->\r\n    <van-popup v-model=\"show\" position=\"bottom\">\r\n      <div class=\"title-text\">当前播放</div>\r\n\r\n      <!-- 控制层 -->\r\n      <div class=\"controls-box\">\r\n        <div class=\"left\">\r\n          <span class=\"iconfont\">&#xe631;</span>\r\n          <div class=\"text\">随机播放</div>\r\n        </div>\r\n\r\n        <van-icon name=\"delete\" @click=\"deleteList\" />\r\n      </div>\r\n\r\n      <!-- 列表 -->\r\n      <div class=\"list-box\">\r\n        <div class=\"song\" v-for=\"(item,index) in playList\" :key=\"index\">\r\n          <div class=\"van-ellispsis\" :class=\"item.isActive?'active':null\" @click=\"playSong(item)\">\r\n            <van-icon\r\n              v-if=\"item.isActive\"\r\n              name=\"music-o\"\r\n              :class=\"playerInfo.autoplay?'animat':'paused'\"\r\n            />\r\n            {{item.name}}\r\n            <div class=\"singer\">- {{item.ar[0].name==\"\"?\"佚名\":item.ar[0].name}}</div>\r\n          </div>\r\n\r\n          <!-- x按钮 -->\r\n          <van-icon name=\"cross\" @click=\"deleteOne(index)\" />\r\n        </div>\r\n      </div>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { createNamespacedHelpers } from \"vuex\";\r\nconst { mapState, mapMutations } = createNamespacedHelpers(\"primaryModule\");\r\n\r\nexport default {\r\n  name: \"aimpComponent\",\r\n\r\n  computed: {\r\n    ...mapState([\r\n      \"musicInfo\",\r\n      \"playerInfo\",\r\n      \"musicList\",\r\n      \"musicInfFunc\",\r\n      \"historyList\",\r\n    ]),\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      // 是否显示弹出层\r\n      show: false,\r\n      // 当前播放歌单\r\n      playList: [],\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations([\r\n      \"changePlayerInfo\",\r\n      \"addMusicList\",\r\n      \"changeMusicInfo\",\r\n      \"changeHistoryList\",\r\n    ]),\r\n\r\n    //   去播放器\r\n    toPlayer() {\r\n      this.$router.push({ name: \"Player\" });\r\n    },\r\n\r\n    // 播放/暂停方法\r\n    changePlayState() {\r\n      \r\n      this.changePlayerInfo({ autoplay: !this.playerInfo.autoplay });\r\n      if (this.playerInfo.autoplay) {\r\n        this.playerInfo.audio.play();\r\n      } else {\r\n        this.playerInfo.audio.pause();\r\n      }\r\n    },\r\n\r\n    // 显示隐藏\r\n    changeLove() {\r\n      \r\n      this.show = true;\r\n      this.getPlayList();\r\n    },\r\n\r\n    // 获取当前播放列表\r\n    getPlayList() {\r\n      if (this.musicList.length == 0) return;\r\n      this.$toast.loading({ duration: 0 });\r\n\r\n      let str = \"\";\r\n      this.musicList.map((v) => {\r\n        \r\n        str += v + \",\";\r\n      });\r\n      \r\n\r\n      str = str.slice(0, -1);\r\n      \r\n\r\n      this.axios({\r\n        method: \"GET\",\r\n        url: \"/song/detail\",\r\n        params: {\r\n          ids: str,\r\n        },\r\n      })\r\n        .then((result) => {\r\n          this.$toast.clear();\r\n          \r\n          if (result.data.code != 200) return;\r\n          this.playList = result.data.songs;\r\n        })\r\n        .catch((err) => {\r\n          this.$toast.clear();\r\n        });\r\n    },\r\n\r\n    // 删除当前歌单\r\n    deleteList() {\r\n      this.addMusicList([]);\r\n      this.playList = [];\r\n    },\r\n\r\n    // 当前歌单中删除一首歌曲\r\n    deleteOne(index) {\r\n      \r\n\r\n      this.playList.splice(index, 1);\r\n      let list = this.musicList;\r\n      list.splice(index, 1);\r\n      this.addMusicList(list);\r\n    },\r\n\r\n    // 判断当前播放的歌曲\r\n    judgeNowPlay() {\r\n      let nowMusicId = this.musicInfo.ids;\r\n\r\n      this.playList.map((v) => {\r\n        v.isActive == true ? (v.isActive = false) : null;\r\n        if (v.id == nowMusicId) {\r\n          v.isActive = true;\r\n          return;\r\n        }\r\n      });\r\n    },\r\n\r\n    // 播放歌曲\r\n    async playSong(item) {\r\n      this.$toast.loading({ duration: 0 });\r\n\r\n      let hlist = this.historyList;\r\n      hlist.unshift(item.id);\r\n      \r\n      this.changeHistoryList(hlist);\r\n\r\n      // 修改播放器详情\r\n      let playerOptions = {};\r\n      playerOptions.src = this.musicURL + item.id;\r\n      //   playerOptions.duration = item.duration;\r\n      playerOptions.autoplay = true;\r\n\r\n      await this.changePlayerInfo(playerOptions);\r\n\r\n      // 修改音乐详情\r\n      let musicOptions = {};\r\n      musicOptions.ids = item.id;\r\n      // musicOptions.songName = item.name;\r\n      if (item.ar[0].name == \"\") {\r\n        musicOptions.singerName = \"佚名\";\r\n      } else {\r\n        musicOptions.singerName = item.ar[0].name;\r\n      }\r\n\r\n      await this.changeMusicInfo(musicOptions);\r\n\r\n      await this.musicInfFunc();\r\n\r\n      this.$toast.clear();\r\n      this.playerInfo.audio.play();\r\n      setTimeout(() => {\r\n        \r\n        if (this.playerInfo.audio.readyState == 0) {\r\n          this.playerInfo.audio.pause();\r\n          this.changePlayerInfo({ autoplay: false });\r\n        }\r\n      }, 2000);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n#myc-aimp {\r\n  background-color: #fff;\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 48px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  box-shadow: 1px 0 0 0.5px #cccccc;\r\n  z-index: 9999;\r\n\r\n  .left {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    .disc {\r\n      width: 35px;\r\n      height: 35px;\r\n      border-radius: 50%;\r\n      overflow: hidden;\r\n      margin-left: 10px;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      box-shadow: 0 0 0.5px 0 #f0f0f0;\r\n\r\n      img {\r\n        width: 100%;\r\n        transform: scale(1.4);\r\n      }\r\n    }\r\n\r\n    .easy-info {\r\n      margin-left: 6px;\r\n\r\n      .song {\r\n        font-size: 14px;\r\n        color: #333333;\r\n        font-weight: bold;\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        width: 200px;\r\n      }\r\n\r\n      .singer {\r\n        font-size: 12px;\r\n        color: #7d7d7d;\r\n        margin-top: 4px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .right {\r\n    width: 70px;\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-right: 10px;\r\n    font-size: 26px;\r\n  }\r\n\r\n  .van-popup {\r\n    box-sizing: border-box;\r\n    height: 480px;\r\n    width: 92%;\r\n    margin-left: 4%;\r\n    margin-bottom: 22px;\r\n    border-radius: 20px;\r\n    color: #333333;\r\n    padding: 15px;\r\n    padding-right: 19px;\r\n    overflow: hidden;\r\n    position: fixed;\r\n    z-index: 9999;\r\n\r\n    .title-text {\r\n      margin-top: 5px;\r\n      font-size: 16px;\r\n      font-weight: bold;\r\n    }\r\n\r\n    .controls-box {\r\n      // background-color: red;\r\n      margin: 8px 0;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n\r\n      .left {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        color: #b7b7b7;\r\n\r\n        .text {\r\n          margin-left: 8px;\r\n          color: #4d4d4d;\r\n        }\r\n      }\r\n\r\n      .van-icon {\r\n        font-size: 18px;\r\n        color: #b7b7b7;\r\n      }\r\n    }\r\n\r\n    .list-box {\r\n      height: 380px;\r\n      overflow: auto;\r\n\r\n      .song {\r\n        margin: 25px 0;\r\n        font-size: 14px;\r\n        color: #333333;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n\r\n        .van-icon {\r\n          font-size: 18px;\r\n          color: #b7b7b7;\r\n        }\r\n\r\n        .van-ellispsis {\r\n          display: flex;\r\n          align-items: center;\r\n          flex: 1;\r\n\r\n          .singer {\r\n            font-size: 10px;\r\n            color: #b7b7b7;\r\n          }\r\n\r\n          .van-icon {\r\n            color: #f43e3e;\r\n            margin-right: 8px;\r\n          }\r\n        }\r\n\r\n        .active {\r\n          color: #f43e3e;\r\n\r\n          .singer {\r\n            color: #f43e3e;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .animat {\r\n    animation: turn 10s linear infinite normal none running;\r\n  }\r\n\r\n  .paused {\r\n    animation: turn 10s linear infinite normal none paused;\r\n  }\r\n\r\n  @keyframes turn {\r\n    0% {\r\n      transform: rotateZ(0deg);\r\n    }\r\n\r\n    50% {\r\n      transform: rotateZ(180deg);\r\n    }\r\n\r\n    100% {\r\n      transform: rotateZ(360deg);\r\n    }\r\n  }\r\n  // 引用iconfont\r\n  @font-face {\r\n    font-family: \"iconfont\";\r\n    src: url(\"../assets/icon/player/iconfont.eot\");\r\n    src: url(\"../assets/icon/player/iconfont.eot?#iefix\")\r\n        format(\"embedded-opentype\"),\r\n      url(\"../assets/icon/player/iconfont.woff2\") format(\"woff2\"),\r\n      url(\"../assets/icon/player/iconfont.woff\") format(\"woff\"),\r\n      url(\"../assets/icon/player/iconfont.ttf\") format(\"truetype\"),\r\n      url(\"../assets/icon/player/iconfont.svg#iconfont\") format(\"svg\");\r\n  }\r\n\r\n  .iconfont {\r\n    font-family: \"iconfont\" !important;\r\n    font-size: 16px;\r\n    font-style: normal;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./aimpComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./aimpComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./aimpComponent.vue?vue&type=template&id=ab18c75a&scoped=true&\"\nimport script from \"./aimpComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./aimpComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./aimpComponent.vue?vue&type=style&index=0&id=ab18c75a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ab18c75a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:({color:_vm.color}),attrs:{\"id\":\"myc-nav\"}},[_c('div',{staticClass:\"myc-left\",on:{\"click\":_vm.goBack}},[_c('van-icon',{staticClass:\"myc-icon\",attrs:{\"name\":\"down\"}})],1),_c('div',{staticClass:\"myc-title\"},[_vm._v(_vm._s(_vm.title))]),_vm._t(\"title\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"myc-nav\" :style=\"{color:color}\">\r\n    <!-- 返回icon -->\r\n    <div class=\"myc-left\" @click=\"goBack\">\r\n      <van-icon class=\"myc-icon\" name=\"down\" />\r\n    </div>\r\n\r\n    <!-- 标题 -->\r\n    <div class=\"myc-title\">{{title}}</div>\r\n\r\n    <!-- 标题插槽 -->\r\n    <slot name=\"title\"></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"navComponent\",\r\n\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n\r\n    color: {\r\n      type: String,\r\n      default: \"black\",\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    // 返回上一页\r\n    goBack() {\r\n      this.$router.go(-1);\r\n    },\r\n\r\n    // 判断是否存在插槽\r\n  },\r\n\r\n  created() {\r\n    \r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n#myc-nav {\r\n  height: 46px;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  .myc-left {\r\n    width: 46px;\r\n    height: 46px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    .myc-icon {\r\n      transform: rotate(90deg);\r\n      font-size: 20px;\r\n    }\r\n  }\r\n\r\n  .myc-title {\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    \r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./navComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./navComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./navComponent.vue?vue&type=template&id=e96c7d6c&scoped=true&\"\nimport script from \"./navComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./navComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./navComponent.vue?vue&type=style&index=0&id=e96c7d6c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e96c7d6c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}