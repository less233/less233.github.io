(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f13c4fe"],{"10dc":function(t,a,i){},"58ec":function(t,a,i){"use strict";var e=i("d938"),s=i.n(e);s.a},"6fb6":function(t,a,i){},7267:function(t,a,i){"use strict";var e=i("6fb6"),s=i.n(e);s.a},a5cd:function(t,a,i){"use strict";i.r(a);var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"list"},[i("nav-component",{attrs:{title:this.$route.query.name,color:"white"}}),i("div",{staticClass:"contain"},[i("div",{staticClass:"title-text",on:{click:t.playAll}},[i("van-icon",{attrs:{name:"play-circle-o"}}),i("div",{staticClass:"text"},[t._v("播放全部")])],1),i("div",{staticClass:"search-songs"},t._l(t.listDetail,(function(a,e){return i("div",{key:e,staticClass:"hot-song",on:{click:function(i){return t.playSong(a)}}},[i("div",{staticClass:"serial"},[t._v(t._s(e+1))]),i("div",{staticClass:"content"},[i("div",{staticClass:"song"},[t._v(t._s(a.name))]),i("div",{staticClass:"intro"},[t._v(t._s(a.ar[0].name)+" - "+t._s(""==a.al.name?"未知":a.al.name))])])])})),0)]),i("aimp-component")],1)},s=[],n=(i("d81d"),i("fb6a"),i("b0c0"),i("96cf"),i("1da1")),o=i("5530"),c=(i("10dc"),i("f874")),r=i("b6dd"),l=i("2f62"),u=Object(l["a"])("primaryModule"),d=u.mapState,m=u.mapMutations,f={name:"list",components:{navComponent:c["a"],aimpComponent:r["a"]},computed:Object(o["a"])({},d(["userInfo","playerInfo","musicInfFunc","musicList","historyList"])),data:function(){return{list:[],listDetail:[],imgId:""}},methods:Object(o["a"])(Object(o["a"])({},m(["changePlayerInfo","changeMusicInfo","addMusicList","unshiftMusicList"])),{},{getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.$toast.loading({duration:0}),i=t.userInfo.userid,"/likelist"==t.$route.query.url?e={uid:i,cookie:localStorage.getItem("cookie")}:"/recommend/songs"==t.$route.query.url?e={cookie:localStorage.getItem("cookie")}:"/playlist/detail"==t.$route.query.url?e={id:t.$route.query.id}:"/user/record"==t.$route.query.url?e={uid:i}:"/recommend/resource"==t.$route.query.url&&(e={cookie:localStorage.getItem("cookie"),uid:i}),a.next=5,t.axios({method:"GET",url:t.$route.query.url,params:e}).then((function(a){t.$toast.clear(),200==a.data.code&&("/likelist"==t.$route.query.url?(t.imgId=a.data.checkPoint,t.list=a.data.ids):"/recommend/songs"==t.$route.query.url?a.data.data.dailySongs.map((function(a){t.list.push(a.id)})):"/playlist/detail"==t.$route.query.url?a.data.playlist.trackIds.map((function(a){t.list.push(a.id)})):"/user/record"==t.$route.query.url&&a.data.allData.map((function(a){t.list.push(a.song.id)})))})).catch((function(a){t.$toast.clear()}));case 5:t.getListDetail();case 6:case"end":return a.stop()}}),a)})))()},getListDetail:function(){var t=this;this.$toast.loading({duration:0});var a="";this.list.map((function(t){a+=t+","})),a=a.slice(0,-1),this.axios({method:"GET",url:"/song/detail",params:{ids:a}}).then((function(a){t.$toast.clear(),200==a.data.code&&(t.listDetail=a.data.songs)})).catch((function(a){t.$toast.clear()}))},playSong:function(t){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var e,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a.$toast.loading({duration:0}),e={},e.src=a.musicURL+t.id,e.autoplay=!0,a.unshiftMusicList(t.id),i.next=7,a.changePlayerInfo(e);case 7:return s={},s.ids=t.id,""==t.ar[0].name?s.singerName="佚名":s.singerName=t.ar[0].name,i.next=12,a.changeMusicInfo(s);case 12:return i.next=14,a.musicInfFunc();case 14:setTimeout((function(){a.$toast.clear(),a.toPlayer()}),400);case 15:case"end":return i.stop()}}),i)})))()},toPlayer:function(){this.$router.push({name:"Player"}),this.playerInfo.audio.play()},playAll:function(){if(0==this.list.length)return this.$toast.loading({message:"没有内容可以播放啦"});this.addMusicList(this.list)}}),mounted:function(){this.$route.query.url?this.getData():(this.list=this.historyList,this.getListDetail())}},p=f,h=i("2877"),y=Object(h["a"])(p,e,s,!1,null,null,null);a["default"]=y.exports},b6dd:function(t,a,i){"use strict";var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{attrs:{id:"myc-aimp"}},[i("div",{staticClass:"left",on:{click:t.toPlayer}},[i("div",{staticClass:"disc"},[i("img",{attrs:{src:t.musicInfo.picUrl,alt:""}})]),i("div",{staticClass:"easy-info"},[i("div",{staticClass:"song"},[t._v(t._s(t.musicInfo.songName))]),i("div",{staticClass:"singer"},[t._v(t._s(t.musicInfo.singerName))])])]),i("div",{staticClass:"right"},[i("div",{staticClass:"play",on:{click:t.changePlayState}},[i("van-icon",{attrs:{name:this.playerInfo.autoplay?"pause-circle-o":"play-circle-o"}})],1),i("div",{staticClass:"love",on:{click:t.changeLove}},[i("van-icon",{attrs:{name:"bars"}})],1)]),i("van-popup",{attrs:{position:"bottom"},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}},[i("div",{staticClass:"title-text"},[t._v("当前播放")]),i("div",{staticClass:"controls-box"},[i("div",{staticClass:"left"},[i("span",{staticClass:"iconfont"},[t._v("")]),i("div",{staticClass:"text"},[t._v("随机播放")])]),i("van-icon",{attrs:{name:"delete"},on:{click:t.deleteList}})],1),i("div",{staticClass:"list-box"},t._l(t.playList,(function(a,e){return i("div",{key:e,staticClass:"song"},[i("div",{staticClass:"van-ellispsis",class:a.isActive?"active":null,on:{click:function(i){return t.playSong(a)}}},[a.isActive?i("van-icon",{class:t.playerInfo.autoplay?"animat":"paused",attrs:{name:"music-o"}}):t._e(),t._v(" "+t._s(a.name)+" "),i("div",{staticClass:"singer"},[t._v("- "+t._s(""==a.ar[0].name?"佚名":a.ar[0].name))])],1),i("van-icon",{attrs:{name:"cross"},on:{click:function(a){return t.deleteOne(e)}}})],1)})),0)])],1)},s=[],n=(i("d81d"),i("fb6a"),i("a434"),i("b0c0"),i("96cf"),i("1da1")),o=i("5530"),c=i("2f62"),r=Object(c["a"])("primaryModule"),l=r.mapState,u=r.mapMutations,d={name:"aimpComponent",computed:Object(o["a"])({},l(["musicInfo","playerInfo","musicList","musicInfFunc","historyList"])),data:function(){return{show:!1,playList:[]}},methods:Object(o["a"])(Object(o["a"])({},u(["changePlayerInfo","addMusicList","changeMusicInfo","changeHistoryList"])),{},{toPlayer:function(){this.$router.push({name:"Player"})},changePlayState:function(){this.changePlayerInfo({autoplay:!this.playerInfo.autoplay}),this.playerInfo.autoplay?this.playerInfo.audio.play():this.playerInfo.audio.pause()},changeLove:function(){this.show=!0,this.getPlayList()},getPlayList:function(){var t=this;if(0!=this.musicList.length){this.$toast.loading({duration:0});var a="";this.musicList.map((function(t){a+=t+","})),a=a.slice(0,-1),this.axios({method:"GET",url:"/song/detail",params:{ids:a}}).then((function(a){t.$toast.clear(),200==a.data.code&&(t.playList=a.data.songs)})).catch((function(a){t.$toast.clear()}))}},deleteList:function(){this.addMusicList([]),this.playList=[]},deleteOne:function(t){this.playList.splice(t,1);var a=this.musicList;a.splice(t,1),this.addMusicList(a)},judgeNowPlay:function(){var t=this.musicInfo.ids;this.playList.map((function(a){1==a.isActive&&(a.isActive=!1),a.id!=t||(a.isActive=!0)}))},playSong:function(t){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var e,s,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a.$toast.loading({duration:0}),e=a.historyList,e.unshift(t.id),a.changeHistoryList(e),s={},s.src=a.musicURL+t.id,s.autoplay=!0,i.next=9,a.changePlayerInfo(s);case 9:return n={},n.ids=t.id,""==t.ar[0].name?n.singerName="佚名":n.singerName=t.ar[0].name,i.next=14,a.changeMusicInfo(n);case 14:return i.next=16,a.musicInfFunc();case 16:a.$toast.clear(),a.playerInfo.audio.play(),setTimeout((function(){0==a.playerInfo.audio.readyState&&(a.playerInfo.audio.pause(),a.changePlayerInfo({autoplay:!1}))}),2e3);case 19:case"end":return i.stop()}}),i)})))()}})},m=d,f=(i("58ec"),i("2877")),p=Object(f["a"])(m,e,s,!1,null,"ab18c75a",null);a["a"]=p.exports},d938:function(t,a,i){},f874:function(t,a,i){"use strict";var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{style:{color:t.color},attrs:{id:"myc-nav"}},[i("div",{staticClass:"myc-left",on:{click:t.goBack}},[i("van-icon",{staticClass:"myc-icon",attrs:{name:"down"}})],1),i("div",{staticClass:"myc-title"},[t._v(t._s(t.title))]),t._t("title")],2)},s=[],n={name:"navComponent",props:{title:{type:String,default:""},color:{type:String,default:"black"}},methods:{goBack:function(){this.$router.go(-1)}},created:function(){}},o=n,c=(i("7267"),i("2877")),r=Object(c["a"])(o,e,s,!1,null,"e96c7d6c",null);a["a"]=r.exports}}]);
//# sourceMappingURL=chunk-0f13c4fe.5db7189b.js.map