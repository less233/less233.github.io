(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a11e8aa"],{"2d3b":function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"search"},[s("nav-component",{scopedSlots:t._u([{key:"title",fn:function(){return[s("van-field",{attrs:{placeholder:"请输入关键字"},on:{blur:t.searchSong},model:{value:t.searchValue,callback:function(a){t.searchValue=a},expression:"searchValue"}})]},proxy:!0}])}),s("div",{staticClass:"hot"},[""==t.searchValue?s("div",{staticClass:"search-hot"},[s("div",{staticClass:"label"},[t._v("热搜榜")]),t._l(t.hotData,(function(a,i){return s("div",{key:i,staticClass:"hot-song",on:{click:function(s){return t.clickHotSong(a.searchWord)}}},[s("div",{staticClass:"serial"},[t._v(t._s(i+1))]),s("div",{staticClass:"content"},[s("div",{staticClass:"song"},[t._v(" "+t._s(a.searchWord)+" "),1==a.iconType?s("b",{staticStyle:{color:"#fa3b3e"}},[s("i",[t._v("HOT")])]):5==a.iconType?s("b",{staticStyle:{color:"#fa3b3e"}},[s("van-icon",{staticStyle:{transform:"rotate(180deg)"},attrs:{name:"down"}})],1):2==a.iconType?s("b",{staticStyle:{color:"#26ae26"}},[s("i",[t._v("NEW")])]):t._e()]),s("div",{staticClass:"intro"},[t._v(t._s(a.content))])]),s("div",{staticClass:"score"},[t._v(t._s(a.score))])])}))],2):s("div",{staticClass:"search-songs"},t._l(t.searchData,(function(a,i){return s("div",{key:i,staticClass:"hot-song",on:{click:function(s){return t.playSong(a)}}},[s("div",{staticClass:"serial"},[t._v(t._s(i+1))]),s("div",{staticClass:"content"},[s("div",{staticClass:"song"},[t._v(t._s(a.name))]),s("div",{staticClass:"intro"},[t._v(t._s(a.artists[0].name)+" - "+t._s(""==a.album.name?"未知":a.album.name))]),s("div",{staticClass:"intro"},[t._v(t._s(a.alias[0]))])])])})),0)]),s("aimp-component")],1)},e=[],n=(s("b0c0"),s("96cf"),s("1da1")),c=s("5530"),o=(s("4de5"),s("f874")),r=s("b6dd"),l=s("2f62"),u=Object(l["a"])("primaryModule"),d=u.mapState,h=u.mapMutations,f={components:{navComponent:o["a"],aimpComponent:r["a"]},computed:Object(c["a"])({},d(["playerInfo","musicInfo","musicInfFunc"])),data:function(){return{hotData:[],searchData:[],searchValue:""}},methods:Object(c["a"])(Object(c["a"])({},h(["changePlayerInfo","changeMusicInfo","unshiftMusicList"])),{},{searchHot:function(){var t=this;this.$toast.loading({forbidClick:!0}),this.axios({method:"GET",url:"/search/hot/detail"}).then((function(a){t.$toast.clear(),200==a.data.code&&(t.hotData=a.data.data)})).catch((function(a){t.$toast.clear()}))},clickHotSong:function(t){this.searchValue=t,this.searchSong()},searchSong:function(){var t=this;""!=this.searchValue&&(this.$toast.loading(),this.axios({method:"GET",url:"/search",params:{keywords:this.searchValue}}).then((function(a){t.$toast.clear(),200==a.data.code&&(t.searchData=a.data.result.songs)})).catch((function(a){t.$toast.clear()})))},playSong:function(t){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var i,e,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return i=a.historyList,i.unshift(t.id),a.changeHistoryList(i),e={},e.src=a.musicURL+t.id,e.duration=t.duration,e.autoplay=!0,a.unshiftMusicList(t.id),s.next=10,a.changePlayerInfo(e);case 10:return n={},n.ids=t.id,""==t.artists[0].name?n.singerName="佚名":n.singerName=t.artists[0].name,s.next=15,a.changeMusicInfo(n);case 15:return s.next=17,a.musicInfFunc();case 17:a.searchValue="",a.toPlayer();case 19:case"end":return s.stop()}}),s)})))()},toPlayer:function(){this.$router.push({name:"Player"}),this.playerInfo.audio.play()}}),created:function(){this.searchHot()}},v=f,p=s("2877"),m=Object(p["a"])(v,i,e,!1,null,null,null);a["default"]=m.exports},"4de5":function(t,a,s){},"58ec":function(t,a,s){"use strict";var i=s("d938"),e=s.n(i);e.a},"6fb6":function(t,a,s){},7267:function(t,a,s){"use strict";var i=s("6fb6"),e=s.n(i);e.a},b6dd:function(t,a,s){"use strict";var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{attrs:{id:"myc-aimp"}},[s("div",{staticClass:"left",on:{click:t.toPlayer}},[s("div",{staticClass:"disc"},[s("img",{attrs:{src:t.musicInfo.picUrl,alt:""}})]),s("div",{staticClass:"easy-info"},[s("div",{staticClass:"song"},[t._v(t._s(t.musicInfo.songName))]),s("div",{staticClass:"singer"},[t._v(t._s(t.musicInfo.singerName))])])]),s("div",{staticClass:"right"},[s("div",{staticClass:"play",on:{click:t.changePlayState}},[s("van-icon",{attrs:{name:this.playerInfo.autoplay?"pause-circle-o":"play-circle-o"}})],1),s("div",{staticClass:"love",on:{click:t.changeLove}},[s("van-icon",{attrs:{name:"bars"}})],1)]),s("van-popup",{attrs:{position:"bottom"},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}},[s("div",{staticClass:"title-text"},[t._v("当前播放")]),s("div",{staticClass:"controls-box"},[s("div",{staticClass:"left"},[s("span",{staticClass:"iconfont"},[t._v("")]),s("div",{staticClass:"text"},[t._v("随机播放")])]),s("van-icon",{attrs:{name:"delete"},on:{click:t.deleteList}})],1),s("div",{staticClass:"list-box"},t._l(t.playList,(function(a,i){return s("div",{key:i,staticClass:"song"},[s("div",{staticClass:"van-ellispsis",class:a.isActive?"active":null,on:{click:function(s){return t.playSong(a)}}},[a.isActive?s("van-icon",{class:t.playerInfo.autoplay?"animat":"paused",attrs:{name:"music-o"}}):t._e(),t._v(" "+t._s(a.name)+" "),s("div",{staticClass:"singer"},[t._v("- "+t._s(""==a.ar[0].name?"佚名":a.ar[0].name))])],1),s("van-icon",{attrs:{name:"cross"},on:{click:function(a){return t.deleteOne(i)}}})],1)})),0)])],1)},e=[],n=(s("d81d"),s("fb6a"),s("a434"),s("b0c0"),s("96cf"),s("1da1")),c=s("5530"),o=s("2f62"),r=Object(o["a"])("primaryModule"),l=r.mapState,u=r.mapMutations,d={name:"aimpComponent",computed:Object(c["a"])({},l(["musicInfo","playerInfo","musicList","musicInfFunc","historyList"])),data:function(){return{show:!1,playList:[]}},methods:Object(c["a"])(Object(c["a"])({},u(["changePlayerInfo","addMusicList","changeMusicInfo","changeHistoryList"])),{},{toPlayer:function(){this.$router.push({name:"Player"})},changePlayState:function(){this.changePlayerInfo({autoplay:!this.playerInfo.autoplay}),this.playerInfo.autoplay?this.playerInfo.audio.play():this.playerInfo.audio.pause()},changeLove:function(){this.show=!0,this.getPlayList()},getPlayList:function(){var t=this;if(0!=this.musicList.length){this.$toast.loading({duration:0});var a="";this.musicList.map((function(t){a+=t+","})),a=a.slice(0,-1),this.axios({method:"GET",url:"/song/detail",params:{ids:a}}).then((function(a){t.$toast.clear(),200==a.data.code&&(t.playList=a.data.songs)})).catch((function(a){t.$toast.clear()}))}},deleteList:function(){this.addMusicList([]),this.playList=[]},deleteOne:function(t){this.playList.splice(t,1);var a=this.musicList;a.splice(t,1),this.addMusicList(a)},judgeNowPlay:function(){var t=this.musicInfo.ids;this.playList.map((function(a){1==a.isActive&&(a.isActive=!1),a.id!=t||(a.isActive=!0)}))},playSong:function(t){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var i,e,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a.$toast.loading({duration:0}),i=a.historyList,i.unshift(t.id),a.changeHistoryList(i),e={},e.src=a.musicURL+t.id,e.autoplay=!0,s.next=9,a.changePlayerInfo(e);case 9:return n={},n.ids=t.id,""==t.ar[0].name?n.singerName="佚名":n.singerName=t.ar[0].name,s.next=14,a.changeMusicInfo(n);case 14:return s.next=16,a.musicInfFunc();case 16:a.$toast.clear(),a.playerInfo.audio.play(),setTimeout((function(){0==a.playerInfo.audio.readyState&&(a.playerInfo.audio.pause(),a.changePlayerInfo({autoplay:!1}))}),2e3);case 19:case"end":return s.stop()}}),s)})))()}})},h=d,f=(s("58ec"),s("2877")),v=Object(f["a"])(h,i,e,!1,null,"ab18c75a",null);a["a"]=v.exports},d938:function(t,a,s){},f874:function(t,a,s){"use strict";var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{style:{color:t.color},attrs:{id:"myc-nav"}},[s("div",{staticClass:"myc-left",on:{click:t.goBack}},[s("van-icon",{staticClass:"myc-icon",attrs:{name:"down"}})],1),s("div",{staticClass:"myc-title"},[t._v(t._s(t.title))]),t._t("title")],2)},e=[],n={name:"navComponent",props:{title:{type:String,default:""},color:{type:String,default:"black"}},methods:{goBack:function(){this.$router.go(-1)}},created:function(){}},c=n,o=(s("7267"),s("2877")),r=Object(o["a"])(c,i,e,!1,null,"e96c7d6c",null);a["a"]=r.exports}}]);
//# sourceMappingURL=chunk-3a11e8aa.c97473d7.js.map